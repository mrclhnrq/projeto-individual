<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <title>Document</title>
</head>
<body style="display: flex; justify-content: center; align-items: center;" onload="buscarDados()">
    <div class="container-perfil">
        <div class="card-usuario">
            <img src="./assets/img/eu.jpg" alt="">
            <h1>Nome do usu√°rio</h1>
            <a href="galeria.html">Ir para Galeria</a>
            <a href="" style="position: relative; top: 50%;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"></path></svg></a>
        </div>
        <div class="dash">
            <h1 style="position: relative; top: 13%; left: 3%;">Dashboard</h1>
            <div class="container-kpis">
                <div class="kpi">
                    <p>Artista favorito</p>
                    <h1>Picasso</h1>
                </div>
                <div class="kpi">
                    <p>Movimento favorito</p>
                    <h1>Van gogh</h1>
                </div>
                <div class="grafico-pizza">
                    <canvas></canvas>
                </div>
            </div>
            <div class="container-graficos">
                <div class="grafico-linhas">
                    <canvas></canvas>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

<script>
    function buscarDados() {
        var idUsuario = sessionStorage.ID_USUARIO;

        fetch(`usuarios/buscar/${idUsuario}`, {
            method: "GET",
            headers: {
                "Content-type": "application/json"
            }
        }).then(function (resposta) {
                console.log("resposta: ", resposta);

                if (resposta.ok) {
                    console.log(resposta)
                    resposta.json().then(function (dados){
                        console.log(dados)
                        var curtidasPosImpressionismo = dados[0].curtidasPosImpressionismo
                        var curtidasImpressionismo = dados[0].curtidasImpressionismo
                        var curtidasCubismo = dados[0].curtidasCubismo
                    })

                } else {
                    throw "Houve um erro ao tentar realizar o cadastro!";
                }
            })
            .catch(function (resposta) {
                console.log(`#ERRO: ${resposta}`);
            });

    }
</script>

